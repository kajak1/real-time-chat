{"id":"Focm","dependencies":[{"name":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\package.json","includedInParent":true,"mtime":1601662675194},{"name":"socket.io-client","loc":{"line":1,"column":15},"parent":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\user\\public\\index.js","resolved":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\node_modules\\socket.io-client\\lib\\index.js"},{"name":"../List","loc":{"line":2,"column":17},"parent":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\user\\public\\index.js","resolved":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\user\\List.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"socket.io-client\")),n=t(require(\"../List\"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(),o=document.querySelector(\"form\"),r=document.querySelector(\"#m\"),i=document.querySelector(\"#n\"),a=document.querySelector(\".messages\"),c=document.querySelector(\".typing\"),s=new n.default,l={};function m(){l.name=prompt(\"enter your name\"),\"\"!=l.name&&u.emit(\"user login\",l.name),i.value=l.name}function d(){u.emit(\"user typing\",{isTyping:!1})}var v=function(){var e=null;return function(n){u.emit(\"user typing\",{isTyping:!0,user:l.name}),clearTimeout(e),e=setTimeout(d,n)}}();function f(e){var n=e.isTyping,t=e.user;c.textContent=n?\"\".concat(t,\" is typing...\"):\"\"}function g(e){console.log(e),s.innerHTML+='<li id=\"'.concat(e,'\">').concat(e,\"</li>\"),console.log(\"new user joined\")}function y(e){if(e.preventDefault(),\"\"!=r.value&&\"\"!=i.value){var n={message:r.value,author:i.value,html:\"<li>\".concat(i.value,\": \").concat(r.value,\"</li>\")};r.value=\"\",u.emit(\"chat new message\",n)}}function p(e){a.innerHTML=e,c.textContent=\"\"}function q(e){var n=document.querySelector(\"#\".concat(e));n.parentNode.removeChild(n)}m(),o.addEventListener(\"submit\",y),r.addEventListener(\"input\",function(){v(2500)}),u.on(\"chat new message\",p),u.on(\"user typing\",f),u.on(\"new user\",s.addUser.bind(s)),u.on(\"remove user\",s.removeUser.bind(s));"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":50}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":52}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":54}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":62}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":74}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":83}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":85}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":88}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":95}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":98}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":100}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":111}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":113}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":114}},{"source":"index.js","original":{"line":94,"column":0},"generated":{"line":1,"column":122}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":125}},{"source":"index.js","name":"socket","original":{"line":4,"column":6},"generated":{"line":1,"column":129}},{"source":"index.js","original":{"line":4,"column":15},"generated":{"line":1,"column":132}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":134}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":136}},{"source":"index.js","name":"form","original":{"line":5,"column":6},"generated":{"line":1,"column":147}},{"source":"index.js","name":"document","original":{"line":5,"column":13},"generated":{"line":1,"column":149}},{"source":"index.js","name":"querySelector","original":{"line":5,"column":22},"generated":{"line":1,"column":158}},{"source":"index.js","original":{"line":5,"column":36},"generated":{"line":1,"column":172}},{"source":"index.js","name":"mess","original":{"line":6,"column":6},"generated":{"line":1,"column":180}},{"source":"index.js","name":"document","original":{"line":6,"column":13},"generated":{"line":1,"column":182}},{"source":"index.js","name":"querySelector","original":{"line":6,"column":22},"generated":{"line":1,"column":191}},{"source":"index.js","original":{"line":6,"column":36},"generated":{"line":1,"column":205}},{"source":"index.js","name":"nick","original":{"line":7,"column":6},"generated":{"line":1,"column":211}},{"source":"index.js","name":"document","original":{"line":7,"column":13},"generated":{"line":1,"column":213}},{"source":"index.js","name":"querySelector","original":{"line":7,"column":22},"generated":{"line":1,"column":222}},{"source":"index.js","original":{"line":7,"column":36},"generated":{"line":1,"column":236}},{"source":"index.js","name":"messageList","original":{"line":8,"column":6},"generated":{"line":1,"column":242}},{"source":"index.js","name":"document","original":{"line":8,"column":20},"generated":{"line":1,"column":244}},{"source":"index.js","name":"querySelector","original":{"line":8,"column":29},"generated":{"line":1,"column":253}},{"source":"index.js","original":{"line":8,"column":43},"generated":{"line":1,"column":267}},{"source":"index.js","name":"typingInfo","original":{"line":9,"column":6},"generated":{"line":1,"column":280}},{"source":"index.js","name":"document","original":{"line":9,"column":19},"generated":{"line":1,"column":282}},{"source":"index.js","name":"querySelector","original":{"line":9,"column":28},"generated":{"line":1,"column":291}},{"source":"index.js","original":{"line":9,"column":42},"generated":{"line":1,"column":305}},{"source":"index.js","name":"usersList","original":{"line":12,"column":6},"generated":{"line":1,"column":316}},{"source":"index.js","original":{"line":12,"column":18},"generated":{"line":1,"column":318}},{"source":"index.js","name":"List","original":{"line":12,"column":22},"generated":{"line":1,"column":322}},{"source":"index.js","original":{"line":12,"column":18},"generated":{"line":1,"column":324}},{"source":"index.js","name":"user","original":{"line":14,"column":6},"generated":{"line":1,"column":332}},{"source":"index.js","original":{"line":14,"column":13},"generated":{"line":1,"column":334}},{"source":"index.js","original":{"line":19,"column":0},"generated":{"line":1,"column":337}},{"source":"index.js","name":"askForName","original":{"line":19,"column":9},"generated":{"line":1,"column":346}},{"source":"index.js","name":"user","original":{"line":20,"column":2},"generated":{"line":1,"column":350}},{"source":"index.js","name":"name","original":{"line":20,"column":7},"generated":{"line":1,"column":352}},{"source":"index.js","name":"prompt","original":{"line":20,"column":14},"generated":{"line":1,"column":357}},{"source":"index.js","original":{"line":20,"column":21},"generated":{"line":1,"column":364}},{"source":"index.js","original":{"line":21,"column":19},"generated":{"line":1,"column":383}},{"source":"index.js","name":"user","original":{"line":21,"column":6},"generated":{"line":1,"column":387}},{"source":"index.js","name":"name","original":{"line":21,"column":11},"generated":{"line":1,"column":389}},{"source":"index.js","name":"socket","original":{"line":22,"column":4},"generated":{"line":1,"column":395}},{"source":"index.js","name":"emit","original":{"line":22,"column":11},"generated":{"line":1,"column":397}},{"source":"index.js","original":{"line":22,"column":16},"generated":{"line":1,"column":402}},{"source":"index.js","name":"user","original":{"line":22,"column":30},"generated":{"line":1,"column":415}},{"source":"index.js","name":"name","original":{"line":22,"column":35},"generated":{"line":1,"column":417}},{"source":"index.js","name":"nick","original":{"line":24,"column":2},"generated":{"line":1,"column":423}},{"source":"index.js","name":"value","original":{"line":24,"column":7},"generated":{"line":1,"column":425}},{"source":"index.js","name":"user","original":{"line":24,"column":15},"generated":{"line":1,"column":431}},{"source":"index.js","name":"name","original":{"line":24,"column":20},"generated":{"line":1,"column":433}},{"source":"index.js","original":{"line":27,"column":0},"generated":{"line":1,"column":438}},{"source":"index.js","name":"typingTimeout","original":{"line":27,"column":9},"generated":{"line":1,"column":447}},{"source":"index.js","name":"socket","original":{"line":28,"column":2},"generated":{"line":1,"column":451}},{"source":"index.js","name":"emit","original":{"line":28,"column":9},"generated":{"line":1,"column":453}},{"source":"index.js","original":{"line":28,"column":14},"generated":{"line":1,"column":458}},{"source":"index.js","original":{"line":28,"column":29},"generated":{"line":1,"column":472}},{"source":"index.js","name":"isTyping","original":{"line":28,"column":31},"generated":{"line":1,"column":473}},{"source":"index.js","original":{"line":28,"column":41},"generated":{"line":1,"column":483}},{"source":"index.js","original":{"line":31,"column":0},"generated":{"line":1,"column":487}},{"source":"index.js","name":"userTyping","original":{"line":31,"column":6},"generated":{"line":1,"column":491}},{"source":"index.js","original":{"line":31,"column":20},"generated":{"line":1,"column":493}},{"source":"index.js","name":"timeout","original":{"line":32,"column":6},"generated":{"line":1,"column":504}},{"source":"index.js","name":"timeout","original":{"line":32,"column":6},"generated":{"line":1,"column":508}},{"source":"index.js","original":{"line":32,"column":16},"generated":{"line":1,"column":510}},{"source":"index.js","original":{"line":33,"column":9},"generated":{"line":1,"column":515}},{"source":"index.js","original":{"line":33,"column":9},"generated":{"line":1,"column":522}},{"source":"index.js","name":"delay","original":{"line":33,"column":19},"generated":{"line":1,"column":531}},{"source":"index.js","name":"socket","original":{"line":34,"column":4},"generated":{"line":1,"column":534}},{"source":"index.js","name":"emit","original":{"line":34,"column":11},"generated":{"line":1,"column":536}},{"source":"index.js","original":{"line":34,"column":16},"generated":{"line":1,"column":541}},{"source":"index.js","original":{"line":34,"column":31},"generated":{"line":1,"column":555}},{"source":"index.js","name":"isTyping","original":{"line":34,"column":33},"generated":{"line":1,"column":556}},{"source":"index.js","original":{"line":34,"column":43},"generated":{"line":1,"column":566}},{"source":"index.js","name":"user","original":{"line":34,"column":49},"generated":{"line":1,"column":568}},{"source":"index.js","name":"user","original":{"line":34,"column":55},"generated":{"line":1,"column":573}},{"source":"index.js","name":"name","original":{"line":34,"column":60},"generated":{"line":1,"column":575}},{"source":"index.js","name":"clearTimeout","original":{"line":35,"column":4},"generated":{"line":1,"column":582}},{"source":"index.js","name":"timeout","original":{"line":35,"column":17},"generated":{"line":1,"column":595}},{"source":"index.js","name":"timeout","original":{"line":36,"column":4},"generated":{"line":1,"column":598}},{"source":"index.js","name":"setTimeout","original":{"line":36,"column":14},"generated":{"line":1,"column":600}},{"source":"index.js","name":"typingTimeout","original":{"line":36,"column":25},"generated":{"line":1,"column":611}},{"source":"index.js","name":"delay","original":{"line":36,"column":40},"generated":{"line":1,"column":613}},{"source":"index.js","original":{"line":31,"column":20},"generated":{"line":1,"column":617}},{"source":"index.js","original":{"line":40,"column":0},"generated":{"line":1,"column":620}},{"source":"index.js","name":"addTypingInfo","original":{"line":40,"column":9},"generated":{"line":1,"column":629}},{"source":"index.js","original":{"line":40,"column":43},"generated":{"line":1,"column":631}},{"source":"index.js","name":"isTyping","original":{"line":40,"column":25},"generated":{"line":1,"column":634}},{"source":"index.js","name":"isTyping","original":{"line":40,"column":25},"generated":{"line":1,"column":638}},{"source":"index.js","name":"isTyping","original":{"line":40,"column":25},"generated":{"line":1,"column":640}},{"source":"index.js","name":"isTyping","original":{"line":40,"column":25},"generated":{"line":1,"column":642}},{"source":"index.js","name":"user","original":{"line":40,"column":35},"generated":{"line":1,"column":651}},{"source":"index.js","name":"user","original":{"line":40,"column":35},"generated":{"line":1,"column":653}},{"source":"index.js","name":"user","original":{"line":40,"column":35},"generated":{"line":1,"column":655}},{"source":"index.js","name":"typingInfo","original":{"line":42,"column":4},"generated":{"line":1,"column":660}},{"source":"index.js","name":"textContent","original":{"line":42,"column":15},"generated":{"line":1,"column":662}},{"source":"index.js","name":"isTyping","original":{"line":41,"column":6},"generated":{"line":1,"column":674}},{"source":"index.js","name":"user","original":{"line":42,"column":32},"generated":{"line":1,"column":676}},{"source":"index.js","name":"user","original":{"line":42,"column":32},"generated":{"line":1,"column":679}},{"source":"index.js","name":"user","original":{"line":42,"column":32},"generated":{"line":1,"column":686}},{"source":"index.js","original":{"line":42,"column":4},"generated":{"line":1,"column":688}},{"source":"index.js","original":{"line":44,"column":29},"generated":{"line":1,"column":705}},{"source":"index.js","original":{"line":48,"column":0},"generated":{"line":1,"column":708}},{"source":"index.js","name":"addUserToList","original":{"line":48,"column":9},"generated":{"line":1,"column":717}},{"source":"index.js","name":"user","original":{"line":48,"column":23},"generated":{"line":1,"column":719}},{"source":"index.js","name":"console","original":{"line":49,"column":2},"generated":{"line":1,"column":722}},{"source":"index.js","name":"log","original":{"line":49,"column":10},"generated":{"line":1,"column":730}},{"source":"index.js","name":"user","original":{"line":49,"column":14},"generated":{"line":1,"column":734}},{"source":"index.js","name":"usersList","original":{"line":54,"column":2},"generated":{"line":1,"column":737}},{"source":"index.js","name":"innerHTML","original":{"line":54,"column":12},"generated":{"line":1,"column":739}},{"source":"index.js","name":"user","original":{"line":54,"column":36},"generated":{"line":1,"column":750}},{"source":"index.js","name":"user","original":{"line":54,"column":36},"generated":{"line":1,"column":761}},{"source":"index.js","name":"user","original":{"line":54,"column":36},"generated":{"line":1,"column":768}},{"source":"index.js","name":"user","original":{"line":54,"column":45},"generated":{"line":1,"column":770}},{"source":"index.js","name":"user","original":{"line":54,"column":45},"generated":{"line":1,"column":776}},{"source":"index.js","name":"user","original":{"line":54,"column":45},"generated":{"line":1,"column":783}},{"source":"index.js","original":{"line":48,"column":29},"generated":{"line":1,"column":785}},{"source":"index.js","name":"console","original":{"line":56,"column":2},"generated":{"line":1,"column":794}},{"source":"index.js","name":"log","original":{"line":56,"column":10},"generated":{"line":1,"column":802}},{"source":"index.js","original":{"line":56,"column":14},"generated":{"line":1,"column":806}},{"source":"index.js","original":{"line":59,"column":0},"generated":{"line":1,"column":825}},{"source":"index.js","name":"handleFormSubmission","original":{"line":59,"column":9},"generated":{"line":1,"column":834}},{"source":"index.js","name":"e","original":{"line":59,"column":30},"generated":{"line":1,"column":836}},{"source":"index.js","name":"mess","original":{"line":61,"column":6},"generated":{"line":1,"column":839}},{"source":"index.js","name":"e","original":{"line":60,"column":2},"generated":{"line":1,"column":842}},{"source":"index.js","name":"preventDefault","original":{"line":60,"column":4},"generated":{"line":1,"column":844}},{"source":"index.js","original":{"line":61,"column":20},"generated":{"line":1,"column":861}},{"source":"index.js","name":"mess","original":{"line":61,"column":6},"generated":{"line":1,"column":865}},{"source":"index.js","name":"value","original":{"line":61,"column":11},"generated":{"line":1,"column":867}},{"source":"index.js","original":{"line":61,"column":40},"generated":{"line":1,"column":874}},{"source":"index.js","name":"nick","original":{"line":61,"column":26},"generated":{"line":1,"column":878}},{"source":"index.js","name":"value","original":{"line":61,"column":31},"generated":{"line":1,"column":880}},{"source":"index.js","original":{"line":61,"column":44},"generated":{"line":1,"column":886}},{"source":"index.js","name":"data","original":{"line":62,"column":10},"generated":{"line":1,"column":887}},{"source":"index.js","name":"data","original":{"line":62,"column":10},"generated":{"line":1,"column":891}},{"source":"index.js","original":{"line":62,"column":17},"generated":{"line":1,"column":893}},{"source":"index.js","name":"message","original":{"line":63,"column":6},"generated":{"line":1,"column":894}},{"source":"index.js","name":"mess","original":{"line":63,"column":15},"generated":{"line":1,"column":902}},{"source":"index.js","name":"value","original":{"line":63,"column":20},"generated":{"line":1,"column":904}},{"source":"index.js","name":"author","original":{"line":64,"column":6},"generated":{"line":1,"column":910}},{"source":"index.js","name":"nick","original":{"line":64,"column":14},"generated":{"line":1,"column":917}},{"source":"index.js","name":"value","original":{"line":64,"column":19},"generated":{"line":1,"column":919}},{"source":"index.js","name":"html","original":{"line":65,"column":6},"generated":{"line":1,"column":925}},{"source":"index.js","name":"nick","original":{"line":65,"column":19},"generated":{"line":1,"column":930}},{"source":"index.js","name":"nick","original":{"line":65,"column":19},"generated":{"line":1,"column":937}},{"source":"index.js","name":"nick","original":{"line":65,"column":19},"generated":{"line":1,"column":944}},{"source":"index.js","name":"value","original":{"line":65,"column":24},"generated":{"line":1,"column":946}},{"source":"index.js","name":"mess","original":{"line":65,"column":34},"generated":{"line":1,"column":952}},{"source":"index.js","name":"mess","original":{"line":65,"column":34},"generated":{"line":1,"column":958}},{"source":"index.js","name":"mess","original":{"line":65,"column":34},"generated":{"line":1,"column":965}},{"source":"index.js","name":"value","original":{"line":65,"column":39},"generated":{"line":1,"column":967}},{"source":"index.js","original":{"line":65,"column":10},"generated":{"line":1,"column":973}},{"source":"index.js","name":"mess","original":{"line":67,"column":4},"generated":{"line":1,"column":983}},{"source":"index.js","name":"value","original":{"line":67,"column":9},"generated":{"line":1,"column":985}},{"source":"index.js","original":{"line":67,"column":17},"generated":{"line":1,"column":991}},{"source":"index.js","name":"socket","original":{"line":68,"column":4},"generated":{"line":1,"column":994}},{"source":"index.js","name":"emit","original":{"line":68,"column":11},"generated":{"line":1,"column":996}},{"source":"index.js","original":{"line":68,"column":16},"generated":{"line":1,"column":1001}},{"source":"index.js","name":"data","original":{"line":68,"column":36},"generated":{"line":1,"column":1020}},{"source":"index.js","original":{"line":73,"column":0},"generated":{"line":1,"column":1024}},{"source":"index.js","name":"addChatMessage","original":{"line":73,"column":9},"generated":{"line":1,"column":1033}},{"source":"index.js","name":"msg","original":{"line":73,"column":24},"generated":{"line":1,"column":1035}},{"source":"index.js","name":"messageList","original":{"line":75,"column":2},"generated":{"line":1,"column":1038}},{"source":"index.js","name":"innerHTML","original":{"line":75,"column":14},"generated":{"line":1,"column":1040}},{"source":"index.js","name":"msg","original":{"line":75,"column":26},"generated":{"line":1,"column":1050}},{"source":"index.js","name":"typingInfo","original":{"line":76,"column":2},"generated":{"line":1,"column":1052}},{"source":"index.js","name":"textContent","original":{"line":76,"column":13},"generated":{"line":1,"column":1054}},{"source":"index.js","original":{"line":76,"column":27},"generated":{"line":1,"column":1066}},{"source":"index.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1069}},{"source":"index.js","name":"removeUserFromList","original":{"line":79,"column":9},"generated":{"line":1,"column":1078}},{"source":"index.js","name":"user","original":{"line":79,"column":28},"generated":{"line":1,"column":1080}},{"source":"index.js","name":"userTag","original":{"line":80,"column":8},"generated":{"line":1,"column":1083}},{"source":"index.js","name":"userTag","original":{"line":80,"column":8},"generated":{"line":1,"column":1087}},{"source":"index.js","name":"document","original":{"line":80,"column":18},"generated":{"line":1,"column":1089}},{"source":"index.js","name":"querySelector","original":{"line":80,"column":27},"generated":{"line":1,"column":1098}},{"source":"index.js","name":"user","original":{"line":80,"column":45},"generated":{"line":1,"column":1112}},{"source":"index.js","name":"user","original":{"line":80,"column":45},"generated":{"line":1,"column":1116}},{"source":"index.js","name":"user","original":{"line":80,"column":45},"generated":{"line":1,"column":1123}},{"source":"index.js","name":"userTag","original":{"line":81,"column":2},"generated":{"line":1,"column":1127}},{"source":"index.js","name":"parentNode","original":{"line":81,"column":10},"generated":{"line":1,"column":1129}},{"source":"index.js","name":"removeChild","original":{"line":81,"column":21},"generated":{"line":1,"column":1140}},{"source":"index.js","name":"userTag","original":{"line":81,"column":33},"generated":{"line":1,"column":1152}},{"source":"index.js","name":"askForName","original":{"line":84,"column":0},"generated":{"line":1,"column":1155}},{"source":"index.js","name":"form","original":{"line":86,"column":0},"generated":{"line":1,"column":1159}},{"source":"index.js","name":"addEventListener","original":{"line":86,"column":5},"generated":{"line":1,"column":1161}},{"source":"index.js","original":{"line":86,"column":22},"generated":{"line":1,"column":1178}},{"source":"index.js","name":"handleFormSubmission","original":{"line":86,"column":32},"generated":{"line":1,"column":1187}},{"source":"index.js","name":"mess","original":{"line":87,"column":0},"generated":{"line":1,"column":1190}},{"source":"index.js","name":"addEventListener","original":{"line":87,"column":5},"generated":{"line":1,"column":1192}},{"source":"index.js","original":{"line":87,"column":22},"generated":{"line":1,"column":1209}},{"source":"index.js","original":{"line":87,"column":31},"generated":{"line":1,"column":1217}},{"source":"index.js","name":"userTyping","original":{"line":88,"column":2},"generated":{"line":1,"column":1228}},{"source":"index.js","original":{"line":88,"column":13},"generated":{"line":1,"column":1230}},{"source":"index.js","name":"socket","original":{"line":91,"column":0},"generated":{"line":1,"column":1238}},{"source":"index.js","name":"on","original":{"line":91,"column":7},"generated":{"line":1,"column":1240}},{"source":"index.js","original":{"line":91,"column":10},"generated":{"line":1,"column":1243}},{"source":"index.js","name":"addChatMessage","original":{"line":91,"column":30},"generated":{"line":1,"column":1262}},{"source":"index.js","name":"socket","original":{"line":92,"column":0},"generated":{"line":1,"column":1265}},{"source":"index.js","name":"on","original":{"line":92,"column":7},"generated":{"line":1,"column":1267}},{"source":"index.js","original":{"line":92,"column":10},"generated":{"line":1,"column":1270}},{"source":"index.js","name":"addTypingInfo","original":{"line":92,"column":25},"generated":{"line":1,"column":1284}},{"source":"index.js","name":"socket","original":{"line":93,"column":0},"generated":{"line":1,"column":1287}},{"source":"index.js","name":"on","original":{"line":93,"column":7},"generated":{"line":1,"column":1289}},{"source":"index.js","original":{"line":93,"column":10},"generated":{"line":1,"column":1292}},{"source":"index.js","name":"usersList","original":{"line":93,"column":22},"generated":{"line":1,"column":1303}},{"source":"index.js","name":"addUser","original":{"line":93,"column":32},"generated":{"line":1,"column":1305}},{"source":"index.js","name":"bind","original":{"line":93,"column":40},"generated":{"line":1,"column":1313}},{"source":"index.js","name":"usersList","original":{"line":93,"column":45},"generated":{"line":1,"column":1318}},{"source":"index.js","name":"socket","original":{"line":94,"column":0},"generated":{"line":1,"column":1322}},{"source":"index.js","name":"on","original":{"line":94,"column":7},"generated":{"line":1,"column":1324}},{"source":"index.js","original":{"line":94,"column":10},"generated":{"line":1,"column":1327}},{"source":"index.js","name":"usersList","original":{"line":94,"column":25},"generated":{"line":1,"column":1341}},{"source":"index.js","name":"removeUser","original":{"line":94,"column":35},"generated":{"line":1,"column":1343}},{"source":"index.js","name":"bind","original":{"line":94,"column":46},"generated":{"line":1,"column":1354}},{"source":"index.js","name":"usersList","original":{"line":94,"column":51},"generated":{"line":1,"column":1359}}],"sources":{"index.js":"import io from 'socket.io-client';\r\nimport List from '../List';\r\n\r\nconst socket = io();\r\nconst form = document.querySelector('form');\r\nconst mess = document.querySelector('#m');\r\nconst nick = document.querySelector('#n');\r\nconst messageList = document.querySelector('.messages');\r\nconst typingInfo = document.querySelector('.typing');\r\n// const usersList = document.querySelector('.users-list');\r\n\r\nconst usersList = new List();\r\n\r\nconst user = {\r\n  // name: '',\r\n  // status: '',\r\n};\r\n\r\nfunction askForName() {\r\n  user.name = prompt('enter your name');\r\n  if (user.name != '') {\r\n    socket.emit('user login', user.name);\r\n  }\r\n  nick.value = user.name;\r\n}\r\n\r\nfunction typingTimeout() {\r\n  socket.emit('user typing', { isTyping: false });\r\n}\r\n\r\nconst userTyping = (function () {\r\n  let timeout = null;\r\n  return function (delay) {\r\n    socket.emit('user typing', { isTyping: true, user: user.name });\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(typingTimeout, delay);\r\n  };\r\n})();\r\n\r\nfunction addTypingInfo({ isTyping, user }) {\r\n  if (isTyping) {\r\n    typingInfo.textContent = `${user} is typing...`;\r\n  } else {\r\n    typingInfo.textContent = '';\r\n  }\r\n}\r\n\r\nfunction addUserToList(user) {\r\n  console.log(user);\r\n  // let p = '';\r\n  // for (const key in users) {\r\n  //   p += `<li id=\"${users[key]}\">${users[key]}</li>`;\r\n  // }\r\n  usersList.innerHTML += `<li id=\"${user}\">${user}</li>`;\r\n  // usersList.innerHTML += `<li>${user}</li>`;\r\n  console.log('new user joined');\r\n}\r\n\r\nfunction handleFormSubmission(e) {\r\n  e.preventDefault();\r\n  if (mess.value != '' && nick.value != '') {\r\n    const data = {\r\n      message: mess.value,\r\n      author: nick.value,\r\n      html: `<li>${nick.value}: ${mess.value}</li>`,\r\n    };\r\n    mess.value = '';\r\n    socket.emit('chat new message', data);\r\n    // return false;\r\n  }\r\n}\r\n\r\nfunction addChatMessage(msg) {\r\n  // console.log(JSON.stringify(msg));\r\n  messageList.innerHTML = msg;\r\n  typingInfo.textContent = '';\r\n}\r\n\r\nfunction removeUserFromList(user) {\r\n  const userTag = document.querySelector(`#${user}`);\r\n  userTag.parentNode.removeChild(userTag);\r\n}\r\n\r\naskForName();\r\n\r\nform.addEventListener('submit', handleFormSubmission);\r\nmess.addEventListener('input', () => {\r\n  userTyping(2500);\r\n});\r\n\r\nsocket.on('chat new message', addChatMessage);\r\nsocket.on('user typing', addTypingInfo);\r\nsocket.on('new user', usersList.addUser.bind(usersList));\r\nsocket.on('remove user', usersList.removeUser.bind(usersList));\r\n"},"lineCount":null}},"error":null,"hash":"ef7ab2f58a2ba556385a6f5ac1342664","cacheData":{"env":{}}}
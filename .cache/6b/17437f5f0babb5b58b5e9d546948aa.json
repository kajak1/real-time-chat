{"id":"mpVp","dependencies":[{"name":"C:\\Users\\korzonki\\Documents\\kajetan\\real-time-chat\\package.json","includedInParent":true,"mtime":1601504438819}],"generated":{"js":"var e=io(),n=document.querySelector(\"form\"),t=document.querySelector(\"#m\"),u=document.querySelector(\"#n\"),o=document.querySelector(\".messages\"),r=document.querySelector(\".typing\"),a={name:\"\",status:\"\"};function i(){a.name=prompt(\"enter your name\"),\"\"!=a.name&&e.emit(\"user login\",a.name),u.value=a.name}function c(){typing=!1,e.emit(\"user typing\",typing)}var m=function(){var n=!1,t=null;return function(u){n=!0,e.emit(\"user typing\",{typing:n,user:a.name}),clearTimeout(t),t=setTimeout(c,u)}}();function s(e){var n=e.typing,t=e.user;r.textContent=n?\"\".concat(t,\" is typing...\"):\"\"}function l(){console.log(\"new user joined\")}function g(n){if(n.preventDefault(),\"\"!=t.value&&\"\"!=u.value){var o={message:t.value,author:u.value};t.value=\"\",e.emit(\"chat message\",o)}}function v(e){var n=e.message,t=e.author;o.innerHTML+=\"<li>\".concat(t,\": \").concat(n,\"</li>\"),r.textContent=\"\"}i(),n.addEventListener(\"submit\",g),t.addEventListener(\"input\",function(){m(1500)}),e.on(\"chat message\",v),e.on(\"user typing\",s),e.on(\"new user\",l);"},"sourceMaps":{"js":{"mappings":[{"source":"script.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"script.js","name":"socket","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"script.js","name":"io","original":{"line":1,"column":15},"generated":{"line":1,"column":6}},{"source":"script.js","name":"form","original":{"line":2,"column":6},"generated":{"line":1,"column":11}},{"source":"script.js","name":"document","original":{"line":2,"column":13},"generated":{"line":1,"column":13}},{"source":"script.js","name":"querySelector","original":{"line":2,"column":22},"generated":{"line":1,"column":22}},{"source":"script.js","original":{"line":2,"column":36},"generated":{"line":1,"column":36}},{"source":"script.js","name":"mess","original":{"line":3,"column":6},"generated":{"line":1,"column":44}},{"source":"script.js","name":"document","original":{"line":3,"column":13},"generated":{"line":1,"column":46}},{"source":"script.js","name":"querySelector","original":{"line":3,"column":22},"generated":{"line":1,"column":55}},{"source":"script.js","original":{"line":3,"column":36},"generated":{"line":1,"column":69}},{"source":"script.js","name":"nick","original":{"line":4,"column":6},"generated":{"line":1,"column":75}},{"source":"script.js","name":"document","original":{"line":4,"column":13},"generated":{"line":1,"column":77}},{"source":"script.js","name":"querySelector","original":{"line":4,"column":22},"generated":{"line":1,"column":86}},{"source":"script.js","original":{"line":4,"column":36},"generated":{"line":1,"column":100}},{"source":"script.js","name":"ul","original":{"line":5,"column":6},"generated":{"line":1,"column":106}},{"source":"script.js","name":"document","original":{"line":5,"column":11},"generated":{"line":1,"column":108}},{"source":"script.js","name":"querySelector","original":{"line":5,"column":20},"generated":{"line":1,"column":117}},{"source":"script.js","original":{"line":5,"column":34},"generated":{"line":1,"column":131}},{"source":"script.js","name":"typingInfo","original":{"line":6,"column":6},"generated":{"line":1,"column":144}},{"source":"script.js","name":"document","original":{"line":6,"column":19},"generated":{"line":1,"column":146}},{"source":"script.js","name":"querySelector","original":{"line":6,"column":28},"generated":{"line":1,"column":155}},{"source":"script.js","original":{"line":6,"column":42},"generated":{"line":1,"column":169}},{"source":"script.js","name":"user","original":{"line":8,"column":6},"generated":{"line":1,"column":180}},{"source":"script.js","original":{"line":8,"column":13},"generated":{"line":1,"column":182}},{"source":"script.js","name":"name","original":{"line":9,"column":2},"generated":{"line":1,"column":183}},{"source":"script.js","original":{"line":9,"column":8},"generated":{"line":1,"column":188}},{"source":"script.js","name":"status","original":{"line":10,"column":2},"generated":{"line":1,"column":191}},{"source":"script.js","original":{"line":10,"column":10},"generated":{"line":1,"column":198}},{"source":"script.js","original":{"line":13,"column":0},"generated":{"line":1,"column":202}},{"source":"script.js","name":"askForName","original":{"line":13,"column":9},"generated":{"line":1,"column":211}},{"source":"script.js","name":"user","original":{"line":14,"column":2},"generated":{"line":1,"column":215}},{"source":"script.js","name":"name","original":{"line":14,"column":7},"generated":{"line":1,"column":217}},{"source":"script.js","name":"prompt","original":{"line":14,"column":14},"generated":{"line":1,"column":222}},{"source":"script.js","original":{"line":14,"column":21},"generated":{"line":1,"column":229}},{"source":"script.js","original":{"line":15,"column":19},"generated":{"line":1,"column":248}},{"source":"script.js","name":"user","original":{"line":15,"column":6},"generated":{"line":1,"column":252}},{"source":"script.js","name":"name","original":{"line":15,"column":11},"generated":{"line":1,"column":254}},{"source":"script.js","name":"socket","original":{"line":16,"column":4},"generated":{"line":1,"column":260}},{"source":"script.js","name":"emit","original":{"line":16,"column":11},"generated":{"line":1,"column":262}},{"source":"script.js","original":{"line":16,"column":16},"generated":{"line":1,"column":267}},{"source":"script.js","name":"user","original":{"line":16,"column":30},"generated":{"line":1,"column":280}},{"source":"script.js","name":"name","original":{"line":16,"column":35},"generated":{"line":1,"column":282}},{"source":"script.js","name":"nick","original":{"line":18,"column":2},"generated":{"line":1,"column":288}},{"source":"script.js","name":"value","original":{"line":18,"column":7},"generated":{"line":1,"column":290}},{"source":"script.js","name":"user","original":{"line":18,"column":15},"generated":{"line":1,"column":296}},{"source":"script.js","name":"name","original":{"line":18,"column":20},"generated":{"line":1,"column":298}},{"source":"script.js","original":{"line":21,"column":0},"generated":{"line":1,"column":303}},{"source":"script.js","name":"typingTimeout","original":{"line":21,"column":9},"generated":{"line":1,"column":312}},{"source":"script.js","name":"typing","original":{"line":22,"column":2},"generated":{"line":1,"column":316}},{"source":"script.js","original":{"line":22,"column":11},"generated":{"line":1,"column":324}},{"source":"script.js","name":"socket","original":{"line":23,"column":2},"generated":{"line":1,"column":326}},{"source":"script.js","name":"emit","original":{"line":23,"column":9},"generated":{"line":1,"column":328}},{"source":"script.js","original":{"line":23,"column":14},"generated":{"line":1,"column":333}},{"source":"script.js","name":"typing","original":{"line":23,"column":29},"generated":{"line":1,"column":347}},{"source":"script.js","original":{"line":26,"column":0},"generated":{"line":1,"column":355}},{"source":"script.js","name":"userTyping","original":{"line":26,"column":6},"generated":{"line":1,"column":359}},{"source":"script.js","original":{"line":26,"column":20},"generated":{"line":1,"column":361}},{"source":"script.js","name":"typing","original":{"line":27,"column":6},"generated":{"line":1,"column":372}},{"source":"script.js","name":"typing","original":{"line":27,"column":6},"generated":{"line":1,"column":376}},{"source":"script.js","original":{"line":27,"column":15},"generated":{"line":1,"column":379}},{"source":"script.js","name":"timeout","original":{"line":28,"column":6},"generated":{"line":1,"column":381}},{"source":"script.js","original":{"line":28,"column":16},"generated":{"line":1,"column":383}},{"source":"script.js","original":{"line":29,"column":9},"generated":{"line":1,"column":388}},{"source":"script.js","original":{"line":29,"column":9},"generated":{"line":1,"column":395}},{"source":"script.js","name":"delay","original":{"line":29,"column":19},"generated":{"line":1,"column":404}},{"source":"script.js","name":"typing","original":{"line":30,"column":4},"generated":{"line":1,"column":407}},{"source":"script.js","original":{"line":30,"column":13},"generated":{"line":1,"column":410}},{"source":"script.js","name":"socket","original":{"line":31,"column":4},"generated":{"line":1,"column":412}},{"source":"script.js","name":"emit","original":{"line":31,"column":11},"generated":{"line":1,"column":414}},{"source":"script.js","original":{"line":31,"column":16},"generated":{"line":1,"column":419}},{"source":"script.js","original":{"line":31,"column":31},"generated":{"line":1,"column":433}},{"source":"script.js","name":"typing","original":{"line":31,"column":33},"generated":{"line":1,"column":434}},{"source":"script.js","name":"typing","original":{"line":31,"column":41},"generated":{"line":1,"column":441}},{"source":"script.js","name":"user","original":{"line":31,"column":49},"generated":{"line":1,"column":443}},{"source":"script.js","name":"user","original":{"line":31,"column":55},"generated":{"line":1,"column":448}},{"source":"script.js","name":"name","original":{"line":31,"column":60},"generated":{"line":1,"column":450}},{"source":"script.js","name":"clearTimeout","original":{"line":32,"column":4},"generated":{"line":1,"column":457}},{"source":"script.js","name":"timeout","original":{"line":32,"column":17},"generated":{"line":1,"column":470}},{"source":"script.js","name":"timeout","original":{"line":33,"column":4},"generated":{"line":1,"column":473}},{"source":"script.js","name":"setTimeout","original":{"line":33,"column":14},"generated":{"line":1,"column":475}},{"source":"script.js","name":"typingTimeout","original":{"line":33,"column":25},"generated":{"line":1,"column":486}},{"source":"script.js","name":"delay","original":{"line":33,"column":40},"generated":{"line":1,"column":488}},{"source":"script.js","original":{"line":26,"column":20},"generated":{"line":1,"column":492}},{"source":"script.js","original":{"line":37,"column":0},"generated":{"line":1,"column":495}},{"source":"script.js","name":"addTypingInfo","original":{"line":37,"column":9},"generated":{"line":1,"column":504}},{"source":"script.js","original":{"line":37,"column":41},"generated":{"line":1,"column":506}},{"source":"script.js","name":"typing","original":{"line":37,"column":25},"generated":{"line":1,"column":509}},{"source":"script.js","name":"typing","original":{"line":37,"column":25},"generated":{"line":1,"column":513}},{"source":"script.js","name":"typing","original":{"line":37,"column":25},"generated":{"line":1,"column":515}},{"source":"script.js","name":"typing","original":{"line":37,"column":25},"generated":{"line":1,"column":517}},{"source":"script.js","name":"user","original":{"line":37,"column":33},"generated":{"line":1,"column":524}},{"source":"script.js","name":"user","original":{"line":37,"column":33},"generated":{"line":1,"column":526}},{"source":"script.js","name":"user","original":{"line":37,"column":33},"generated":{"line":1,"column":528}},{"source":"script.js","name":"typingInfo","original":{"line":39,"column":4},"generated":{"line":1,"column":533}},{"source":"script.js","name":"textContent","original":{"line":39,"column":15},"generated":{"line":1,"column":535}},{"source":"script.js","name":"typing","original":{"line":38,"column":6},"generated":{"line":1,"column":547}},{"source":"script.js","name":"user","original":{"line":39,"column":32},"generated":{"line":1,"column":549}},{"source":"script.js","name":"user","original":{"line":39,"column":32},"generated":{"line":1,"column":552}},{"source":"script.js","name":"user","original":{"line":39,"column":32},"generated":{"line":1,"column":559}},{"source":"script.js","original":{"line":39,"column":4},"generated":{"line":1,"column":561}},{"source":"script.js","original":{"line":41,"column":29},"generated":{"line":1,"column":578}},{"source":"script.js","original":{"line":45,"column":0},"generated":{"line":1,"column":581}},{"source":"script.js","name":"newUserUpdate","original":{"line":45,"column":9},"generated":{"line":1,"column":590}},{"source":"script.js","name":"console","original":{"line":46,"column":2},"generated":{"line":1,"column":594}},{"source":"script.js","name":"log","original":{"line":46,"column":10},"generated":{"line":1,"column":602}},{"source":"script.js","original":{"line":46,"column":14},"generated":{"line":1,"column":606}},{"source":"script.js","original":{"line":49,"column":0},"generated":{"line":1,"column":625}},{"source":"script.js","name":"handleFormSubmission","original":{"line":49,"column":9},"generated":{"line":1,"column":634}},{"source":"script.js","name":"e","original":{"line":49,"column":30},"generated":{"line":1,"column":636}},{"source":"script.js","name":"mess","original":{"line":51,"column":6},"generated":{"line":1,"column":639}},{"source":"script.js","name":"e","original":{"line":50,"column":2},"generated":{"line":1,"column":642}},{"source":"script.js","name":"preventDefault","original":{"line":50,"column":4},"generated":{"line":1,"column":644}},{"source":"script.js","original":{"line":51,"column":20},"generated":{"line":1,"column":661}},{"source":"script.js","name":"mess","original":{"line":51,"column":6},"generated":{"line":1,"column":665}},{"source":"script.js","name":"value","original":{"line":51,"column":11},"generated":{"line":1,"column":667}},{"source":"script.js","original":{"line":51,"column":40},"generated":{"line":1,"column":674}},{"source":"script.js","name":"nick","original":{"line":51,"column":26},"generated":{"line":1,"column":678}},{"source":"script.js","name":"value","original":{"line":51,"column":31},"generated":{"line":1,"column":680}},{"source":"script.js","original":{"line":51,"column":44},"generated":{"line":1,"column":686}},{"source":"script.js","name":"data","original":{"line":52,"column":10},"generated":{"line":1,"column":687}},{"source":"script.js","name":"data","original":{"line":52,"column":10},"generated":{"line":1,"column":691}},{"source":"script.js","original":{"line":52,"column":17},"generated":{"line":1,"column":693}},{"source":"script.js","name":"message","original":{"line":52,"column":19},"generated":{"line":1,"column":694}},{"source":"script.js","name":"mess","original":{"line":52,"column":28},"generated":{"line":1,"column":702}},{"source":"script.js","name":"value","original":{"line":52,"column":33},"generated":{"line":1,"column":704}},{"source":"script.js","name":"author","original":{"line":52,"column":40},"generated":{"line":1,"column":710}},{"source":"script.js","name":"nick","original":{"line":52,"column":48},"generated":{"line":1,"column":717}},{"source":"script.js","name":"value","original":{"line":52,"column":53},"generated":{"line":1,"column":719}},{"source":"script.js","name":"mess","original":{"line":53,"column":4},"generated":{"line":1,"column":726}},{"source":"script.js","name":"value","original":{"line":53,"column":9},"generated":{"line":1,"column":728}},{"source":"script.js","original":{"line":53,"column":17},"generated":{"line":1,"column":734}},{"source":"script.js","name":"socket","original":{"line":54,"column":4},"generated":{"line":1,"column":737}},{"source":"script.js","name":"emit","original":{"line":54,"column":11},"generated":{"line":1,"column":739}},{"source":"script.js","original":{"line":54,"column":16},"generated":{"line":1,"column":744}},{"source":"script.js","name":"data","original":{"line":54,"column":32},"generated":{"line":1,"column":759}},{"source":"script.js","original":{"line":59,"column":0},"generated":{"line":1,"column":763}},{"source":"script.js","name":"addChatMessage","original":{"line":59,"column":9},"generated":{"line":1,"column":772}},{"source":"script.js","name":"msg","original":{"line":59,"column":24},"generated":{"line":1,"column":774}},{"source":"script.js","name":"message","original":{"line":60,"column":10},"generated":{"line":1,"column":777}},{"source":"script.js","name":"message","original":{"line":60,"column":10},"generated":{"line":1,"column":781}},{"source":"script.js","name":"msg","original":{"line":60,"column":30},"generated":{"line":1,"column":783}},{"source":"script.js","name":"message","original":{"line":60,"column":10},"generated":{"line":1,"column":785}},{"source":"script.js","name":"author","original":{"line":60,"column":19},"generated":{"line":1,"column":793}},{"source":"script.js","name":"msg","original":{"line":60,"column":30},"generated":{"line":1,"column":795}},{"source":"script.js","name":"author","original":{"line":60,"column":19},"generated":{"line":1,"column":797}},{"source":"script.js","name":"ul","original":{"line":61,"column":2},"generated":{"line":1,"column":804}},{"source":"script.js","name":"innerHTML","original":{"line":61,"column":5},"generated":{"line":1,"column":806}},{"source":"script.js","name":"author","original":{"line":61,"column":25},"generated":{"line":1,"column":817}},{"source":"script.js","name":"author","original":{"line":61,"column":25},"generated":{"line":1,"column":824}},{"source":"script.js","name":"author","original":{"line":61,"column":25},"generated":{"line":1,"column":831}},{"source":"script.js","name":"message","original":{"line":61,"column":36},"generated":{"line":1,"column":833}},{"source":"script.js","name":"message","original":{"line":61,"column":36},"generated":{"line":1,"column":839}},{"source":"script.js","name":"message","original":{"line":61,"column":36},"generated":{"line":1,"column":846}},{"source":"script.js","original":{"line":61,"column":2},"generated":{"line":1,"column":848}},{"source":"script.js","name":"typingInfo","original":{"line":62,"column":2},"generated":{"line":1,"column":857}},{"source":"script.js","name":"textContent","original":{"line":62,"column":13},"generated":{"line":1,"column":859}},{"source":"script.js","original":{"line":62,"column":27},"generated":{"line":1,"column":871}},{"source":"script.js","name":"askForName","original":{"line":65,"column":0},"generated":{"line":1,"column":874}},{"source":"script.js","name":"form","original":{"line":67,"column":0},"generated":{"line":1,"column":878}},{"source":"script.js","name":"addEventListener","original":{"line":67,"column":5},"generated":{"line":1,"column":880}},{"source":"script.js","original":{"line":67,"column":22},"generated":{"line":1,"column":897}},{"source":"script.js","name":"handleFormSubmission","original":{"line":67,"column":32},"generated":{"line":1,"column":906}},{"source":"script.js","name":"mess","original":{"line":68,"column":0},"generated":{"line":1,"column":909}},{"source":"script.js","name":"addEventListener","original":{"line":68,"column":5},"generated":{"line":1,"column":911}},{"source":"script.js","original":{"line":68,"column":22},"generated":{"line":1,"column":928}},{"source":"script.js","original":{"line":68,"column":31},"generated":{"line":1,"column":936}},{"source":"script.js","name":"userTyping","original":{"line":69,"column":2},"generated":{"line":1,"column":947}},{"source":"script.js","original":{"line":69,"column":13},"generated":{"line":1,"column":949}},{"source":"script.js","name":"socket","original":{"line":72,"column":0},"generated":{"line":1,"column":957}},{"source":"script.js","name":"on","original":{"line":72,"column":7},"generated":{"line":1,"column":959}},{"source":"script.js","original":{"line":72,"column":10},"generated":{"line":1,"column":962}},{"source":"script.js","name":"addChatMessage","original":{"line":72,"column":26},"generated":{"line":1,"column":977}},{"source":"script.js","name":"socket","original":{"line":73,"column":0},"generated":{"line":1,"column":980}},{"source":"script.js","name":"on","original":{"line":73,"column":7},"generated":{"line":1,"column":982}},{"source":"script.js","original":{"line":73,"column":10},"generated":{"line":1,"column":985}},{"source":"script.js","name":"addTypingInfo","original":{"line":73,"column":25},"generated":{"line":1,"column":999}},{"source":"script.js","name":"socket","original":{"line":74,"column":0},"generated":{"line":1,"column":1002}},{"source":"script.js","name":"on","original":{"line":74,"column":7},"generated":{"line":1,"column":1004}},{"source":"script.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1007}},{"source":"script.js","name":"newUserUpdate","original":{"line":74,"column":22},"generated":{"line":1,"column":1018}}],"sources":{"script.js":"const socket = io();\r\nconst form = document.querySelector('form');\r\nconst mess = document.querySelector('#m');\r\nconst nick = document.querySelector('#n');\r\nconst ul = document.querySelector('.messages');\r\nconst typingInfo = document.querySelector('.typing');\r\n\r\nconst user = {\r\n  name: '',\r\n  status: '',\r\n};\r\n\r\nfunction askForName() {\r\n  user.name = prompt('enter your name');\r\n  if (user.name != '') {\r\n    socket.emit('user login', user.name);\r\n  }\r\n  nick.value = user.name;\r\n}\r\n\r\nfunction typingTimeout() {\r\n  typing = false;\r\n  socket.emit('user typing', typing);\r\n}\r\n\r\nconst userTyping = (function () {\r\n  let typing = false;\r\n  let timeout = null;\r\n  return function (delay) {\r\n    typing = true;\r\n    socket.emit('user typing', { typing: typing, user: user.name });\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(typingTimeout, delay);\r\n  };\r\n})();\r\n\r\nfunction addTypingInfo({ typing, user }) {\r\n  if (typing) {\r\n    typingInfo.textContent = `${user} is typing...`;\r\n  } else {\r\n    typingInfo.textContent = '';\r\n  }\r\n}\r\n\r\nfunction newUserUpdate() {\r\n  console.log('new user joined');\r\n}\r\n\r\nfunction handleFormSubmission(e) {\r\n  e.preventDefault();\r\n  if (mess.value != '' && nick.value != '') {\r\n    const data = { message: mess.value, author: nick.value };\r\n    mess.value = '';\r\n    socket.emit('chat message', data);\r\n    // return false;\r\n  }\r\n}\r\n\r\nfunction addChatMessage(msg) {\r\n  const { message, author } = msg;\r\n  ul.innerHTML += `<li>${author}: ${message}</li>`;\r\n  typingInfo.textContent = '';\r\n}\r\n\r\naskForName();\r\n\r\nform.addEventListener('submit', handleFormSubmission);\r\nmess.addEventListener('input', () => {\r\n  userTyping(1500);\r\n});\r\n\r\nsocket.on('chat message', addChatMessage);\r\nsocket.on('user typing', addTypingInfo);\r\nsocket.on('new user', newUserUpdate);\r\n"},"lineCount":null}},"error":null,"hash":"5ff6cb611629d154a49191d281f31e6d","cacheData":{"env":{}}}